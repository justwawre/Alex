problem:
exception reported when malloc

before:
wait some second before malloc

but the problem still happen

my solution:
the problem is timer send a message, the message enter the event, so wrong ptr was used when malloc

change the event machine, making the message ptr released.